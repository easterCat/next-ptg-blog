{"version":3,"file":"static/webpack/static/development/pages/article.js.a686b17800e3f848f349.hot-update.js","sources":["webpack:///./pages/article.tsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"../components/layout/MyLayout\";\nimport { List, Avatar, Icon } from \"antd\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\nimport Link from \"next/link\";\n\ninterface IProps {\n  router: object;\n  shows: [];\n  homeStore: object;\n}\n\ninterface IState {\n  loading: boolean;\n  loadingMore: boolean;\n  hasMore: boolean;\n  active: string;\n}\ninterface IRes {\n  data: [];\n}\ninterface IItem {\n  show: object;\n}\ninterface IK {\n  id: number;\n  url: string;\n  name: string;\n  summary: string;\n  premiered: string;\n  image: {\n    medium: string;\n    original: string;\n  };\n}\n\nconst IconText = ({ type, text }: { type: string; text: string }) => (\n  <span>\n    <Icon type={type} style={{ marginRight: 8 }} />\n    {text}\n  </span>\n);\n\nclass Article extends Component<IProps, IState> {\n  static async getInitialProps() {\n    const res: IRes = await axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n    const data = res.data;\n    return {\n      shows: data.map((item: IItem): object => item.show)\n    };\n  }\n\n  public state = {\n    loading: true,\n    active: \"hot\", // hot or new\n    loadingMore: false,\n    hasMore: true\n  };\n\n  constructor(props: IProps) {\n    super(props);\n  }\n\n  componentDidMount() {\n    if (this.props && this.props.shows) {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  public changeActive(active: string) {\n    this.setState({\n      active\n    });\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div className=\"article\">\n          <div className=\"article-left\">\n            <div className=\"left-home-order\">\n              <span\n                onClick={() => this.changeActive(\"hot\")}\n                className={classnames({ active: this.state.active === \"hot\" })}\n              >\n                热门排行\n              </span>\n              <i className=\"line\"></i>\n              <span\n                onClick={() => this.changeActive(\"new\")}\n                className={classnames({ active: this.state.active === \"new\" })}\n              >\n                最新更新\n              </span>\n            </div>\n            <List\n              itemLayout=\"vertical\"\n              size=\"large\"\n              pagination={{\n                onChange: page => {\n                  console.log(page);\n                },\n                pageSize: 10\n              }}\n              dataSource={this.props.shows}\n              renderItem={(item: IK) => (\n                <Link href={`/book/${item.id}`}>\n                  <List.Item\n                    key={item.summary}\n                    actions={[\n                      <IconText type=\"star-o\" text=\"156\" key=\"list-vertical-star-o\" />,\n                      <IconText type=\"like-o\" text=\"156\" key=\"list-vertical-like-o\" />,\n                      <IconText type=\"message\" text=\"2\" key=\"list-vertical-message\" />\n                    ]}\n                    extra={\n                      <img\n                        width={272}\n                        height={168}\n                        alt=\"logo\"\n                        src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQEGh4jXHhv9fgI7hMGZhagHHz1fyIal1dhOORMXya2RtzTQbPneg\"\n                      />\n                    }\n                  >\n                    <List.Item.Meta\n                      avatar={<Avatar size={48} src={item.image.medium} />}\n                      title={<a href={item.url}>{item.name}</a>}\n                      description={<div dangerouslySetInnerHTML={{ __html: item.premiered }} />}\n                    />\n                    {<div dangerouslySetInnerHTML={{ __html: item.summary.slice(0, 90) + \"...\" }} />}\n                  </List.Item>\n                </Link>\n              )}\n            />\n          </div>\n          <div className=\"article-right\">\n            <div className=\"tag\">\n              {/* <div className=\"recommend-header item-header\">\n\t\t\t\t\t\t\t\t<div className=\"recommend-title title\">文章推荐</div>\n\t\t\t\t\t\t\t\t<div className=\"recommend-more more\" onClick={() => {}}>\n\t\t\t\t\t\t\t\t\t查看更多 >\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div> */}\n              <div className=\"tag-content\">\n                <ul>\n                  {this.props.shows.map((item: IK) => {\n                    return (\n                      <li key={uuid()}>\n                        <img src={item.image.medium} alt=\"\" />\n                        <div className=\"name\">{item.name.slice(0, 10)}</div>\n                        <div className=\"num\">111</div>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport default Article;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AA+BA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AACA;AAMA;;;;;;;;;;;;;;;;;AAEA;AACA;;AADA;AACA;AACA;AACA;AAAA;AAAA;AADA;AACA;;;;;;;;;;;;;;;;;AAWA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AANA;AACA;AAAA;AACA;AACA;AAJA;AACA;AAMA;AAEA;AACA;;;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvBA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAQA;;;;AAvHA;AACA;AAyHA;;;;A","sourceRoot":""}