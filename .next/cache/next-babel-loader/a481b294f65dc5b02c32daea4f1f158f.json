{"ast":null,"code":"import _Button from \"antd/lib/button\";\nimport _Avatar from \"antd/lib/avatar\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/mac/Projects/react-next-demo/pages/books.tsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\n\nclass Books extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      loading: true,\n      active: \"hot\",\n      // hot or new\n      loadingMore: false,\n      hasMore: true\n    });\n  }\n\n  static async getInitialProps() {\n    const res = await axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n    const data = res.data;\n    return {\n      shows: data.map(item => item.show)\n    };\n  }\n\n  componentDidMount() {\n    if (this.props && this.props.shows) {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  changeActive(active) {\n    this.setState({\n      active\n    });\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"books-banner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"/static/images/banner.jpg\",\n      alt: \"banner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"books\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"books-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"left-home-order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      onClick: () => this.changeActive(\"hot\"),\n      className: classnames({\n        active: this.state.active === \"hot\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"\\u63A8\\u8350\\u4E66\\u7C4D\"), __jsx(\"i\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      onClick: () => this.changeActive(\"new\"),\n      className: classnames({\n        active: this.state.active === \"new\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\u6211\\u8D2D\\u4E70\\u7684\\u4E66\\u7C4D\")), __jsx(\"ul\", {\n      className: \"books-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, Array(10).fill(0).map(item => {\n      return __jsx(\"li\", {\n        className: \"books-item\",\n        key: uuid(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"books-item-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: \"~/\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: \"books-item-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"books-item-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"\\u6211\\u672A\\u5B8C\\u6210\\u7684\\u95EE\\u9898\"), __jsx(\"div\", {\n        className: \"books-item-desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"\\u901A\\u8FC7\\u5B9E\\u8DF5\\u5FEB\\u901F\\u4E0A\\u624B SwiftUI \\u53CA Combine \\u54CD\\u5E94\\u5F0F\\u7F16\\u7A0B\\u6846\\u67B6\\uFF0C\\u638C\\u63E1\\u4E0B\\u4E00\\u4EE3\\u5BA2\\u6237\\u7AEF UI \\u5F00\\u53D1\\u6280\\u672F\\u3002 WWDC 2019 \\u4E0A Apple \\u516C\\u5E03\\u4E86\\u58F0\\u660E\\u5F0F\\u5168\\u65B0\\u754C\\u9762\\u6846\\u67B6 SwiftUI\\uFF0C\\u4EE5\\u53CA\\u914D\\u5957\\u7684\\u54CD\\u5E94\\u5F0F\\u7F16\\u7A0B\\u6846\\u67B6 Combine\\u3002\\u5BF9\\u4E8E Apple \\u5E73\\u53F0\\u7684\\u5F00\\u53D1\\u8005\\u6765\\u8BF4\\uFF0C\\u8FD9\\u662F\\u4E00\\u6B21\\u5168\\u65B0\\u7684\\u8F6C\\u53D8\\u548C\\u6311\\u6218\\u3002\\u672C\\u4E66\\u901A\\u8FC7\\u51E0\\u4E2A\\u5177\\u4F53\\u7684\\u5B9E\\u6218\\u4F8B\\u5B50\\uFF0C\\u7531\\u6D45\\u5165\\u6DF1\\u4ECB\\u7ECD\\u4E86 SwiftUI \\u548C Combine \\u6846\\u67B6\\u7684\\u4F7F\\u7528\\u65B9\\u5F0F\\u53CA\\u6838\\u5FC3\\u601D\\u60F3\\uFF0C\\u5E2E\\u52A9\\u60A8\\u987A\\u5229\\u6B65\\u5165\\u4EE4\\u4EBA\\u6FC0\\u52A8\\u7684 Apple \\u5F00\\u53D1\\u65B0\\u65F6\\u4EE3\\u3002\"), __jsx(\"div\", {\n        className: \"books-item-avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, __jsx(_Avatar, {\n        size: 20,\n        src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \" \\u90ED\\u5BCC\\u57CE\")), __jsx(\"div\", {\n        className: \"books-item-read\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, __jsx(_Button, {\n        type: \"danger\",\n        shape: \"round\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"\\u9605\\u8BFB\")), __jsx(\"div\", {\n        className: \"books-item-price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"\\xA5 19.9\"), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"14 \\u7AE0\\u8282 \\xB7 222 \\u4EBA\\u8D2D\\u4E70\"))));\n    }))))));\n  }\n\n}\n\nexport default Books;","map":{"version":3,"sources":["/Users/mac/Projects/react-next-demo/pages/books.tsx"],"names":["React","Component","Layout","axios","classnames","uuid","Books","loading","active","loadingMore","hasMore","getInitialProps","res","get","data","shows","map","item","show","componentDidMount","props","setState","changeActive","render","state","Array","fill"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport { Button, Avatar } from \"antd\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\n\ninterface IProps {\n  router: object;\n  shows: [];\n  homeStore: object;\n}\n\ninterface IState {\n  loading: boolean;\n  loadingMore: boolean;\n  hasMore: boolean;\n  active: string;\n}\ninterface IRes {\n  data: [];\n}\ninterface IItem {\n  show: object;\n}\ninterface IK {\n  id: number;\n  url: string;\n  name: string;\n  summary: string;\n  premiered: string;\n  image: {\n    medium: string;\n    original: string;\n  };\n}\n\nclass Books extends Component<IProps, IState> {\n  static async getInitialProps() {\n    const res: IRes = await axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n    const data = res.data;\n    return {\n      shows: data.map((item: IItem): object => item.show)\n    };\n  }\n\n  public state = {\n    loading: true,\n    active: \"hot\", // hot or new\n    loadingMore: false,\n    hasMore: true\n  };\n\n  componentDidMount() {\n    if (this.props && this.props.shows) {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  public changeActive(active: string) {\n    this.setState({\n      active\n    });\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div>\n          <div className=\"books-banner\">\n            <img src=\"/static/images/banner.jpg\" alt=\"banner\" />\n          </div>\n          <div className=\"books\">\n            <div className=\"books-left\">\n              <div className=\"left-home-order\">\n                <span\n                  onClick={() => this.changeActive(\"hot\")}\n                  className={classnames({ active: this.state.active === \"hot\" })}\n                >\n                  推荐书籍\n                </span>\n                <i className=\"line\"></i>\n                <span\n                  onClick={() => this.changeActive(\"new\")}\n                  className={classnames({ active: this.state.active === \"new\" })}\n                >\n                  我购买的书籍\n                </span>\n              </div>\n              <ul className=\"books-list\">\n                {Array(10)\n                  .fill(0)\n                  .map(item => {\n                    return (\n                      <li className=\"books-item\" key={uuid()}>\n                        <div className=\"books-item-left\">\n                          <img\n                          src=\"~/\"\n                            alt=\"\"\n                          />\n                        </div>\n                        <div className=\"books-item-right\">\n                          <div className=\"books-item-name\">我未完成的问题</div>\n                          <div className=\"books-item-desc\">\n                            通过实践快速上手 SwiftUI 及 Combine 响应式编程框架，掌握下一代客户端 UI 开发技术。 WWDC 2019\n                            上 Apple 公布了声明式全新界面框架 SwiftUI，以及配套的响应式编程框架 Combine。对于 Apple\n                            平台的开发者来说，这是一次全新的转变和挑战。本书通过几个具体的实战例子，由浅入深介绍了\n                            SwiftUI 和 Combine 框架的使用方式及核心思想，帮助您顺利步入令人激动的 Apple 开发新时代。\n                          </div>\n                          <div className=\"books-item-avatar\">\n                            <Avatar size={20} src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n                            <span> 郭富城</span>\n                          </div>\n                          <div className=\"books-item-read\">\n                            <Button type=\"danger\" shape=\"round\">\n                              阅读\n                            </Button>\n                          </div>\n                          <div className=\"books-item-price\">\n                            <span>¥ 19.9</span>\n                            <span>14 章节 · 222 人购买</span>\n                          </div>\n                        </div>\n                      </li>\n                    );\n                  })}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}