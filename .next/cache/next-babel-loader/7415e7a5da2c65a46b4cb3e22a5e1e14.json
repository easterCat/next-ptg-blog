{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/mac/Projects/next-demo/pages/index.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/MyLayout\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\";\n\nvar PostLink = function PostLink(_ref) {\n  var show = _ref.show;\n  return __jsx(\"li\", {\n    className: \"jsx-3950785544\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/show/[id]\",\n    as: \"/show/\".concat(show.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: \"jsx-3950785544\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, show.name)), __jsx(_JSXStyle, {\n    id: \"3950785544\",\n    __self: this\n  }, \"li.jsx-3950785544{list-style:none;margin:5px 0;}a.jsx-3950785544{-webkit-text-decoration:none;text-decoration:none;color:blue;font-family:\\\"Arial\\\";}a.jsx-3950785544:hover{opacity:0.6;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWMvUHJvamVjdHMvbmV4dC1kZW1vL3BhZ2VzL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFTZ0IsQUFHeUIsQUFLSyxBQU1ULFlBQ2QsSUFYZSxhQUNmLHFCQUlhLFdBQ1Msb0JBQ3RCIiwiZmlsZSI6Ii9Vc2Vycy9tYWMvUHJvamVjdHMvbmV4dC1kZW1vL3BhZ2VzL2luZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvTXlMYXlvdXRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XG5cbmNvbnN0IFBvc3RMaW5rID0gKHsgc2hvdyB9OiB7IHNob3c6IGFueSB9KSA9PiAoXG4gIDxsaT5cbiAgICA8TGluayBocmVmPVwiL3Nob3cvW2lkXVwiIGFzPXtgL3Nob3cvJHtzaG93LmlkfWB9PlxuICAgICAgPGE+e3Nob3cubmFtZX08L2E+XG4gICAgPC9MaW5rPlxuICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgIGxpIHtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgbWFyZ2luOiA1cHggMDtcbiAgICAgIH1cblxuICAgICAgYSB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBcIkFyaWFsXCI7XG4gICAgICB9XG5cbiAgICAgIGE6aG92ZXIge1xuICAgICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICB9XG4gICAgYH08L3N0eWxlPlxuICA8L2xpPlxuKTtcblxuY29uc3QgSW5kZXggPSAocHJvcHM6IERlZmF1bHRQcm9wcykgPT4gKFxuICA8TGF5b3V0PlxuICAgIDxoMT5CYXRtYW4gVFYgU2hvd3M8L2gxPlxuICAgIDxoMj5IZWxsbyB1c2VyQWdlbnQgaXMge3Byb3BzLnVzZXJBZ2VudH08L2gyPlxuICAgIDx1bD5cbiAgICAgIHtwcm9wcy5zaG93cy5tYXAoKHNob3c6IGFueSkgPT4gKFxuICAgICAgICA8UG9zdExpbmsga2V5PXtzaG93LmlkfSBzaG93PXtzaG93fSAvPlxuICAgICAgKSl9XG4gICAgPC91bD5cbiAgICA8c3R5bGUganN4PntgXG4gICAgICBoMSxcbiAgICAgIGEge1xuICAgICAgICBmb250LWZhbWlseTogXCJBcmlhbFwiO1xuICAgICAgfVxuXG4gICAgICB1bCB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICB9XG4gICAgYH08L3N0eWxlPlxuICA8L0xheW91dD5cbik7XG5cbmludGVyZmFjZSBJQ29udGV4dCB7XG4gIHJlcTogSVJlcTtcbn1cblxuaW50ZXJmYWNlIElSZXEge1xuICBoZWFkZXJzOiBJSGVhZGVycztcbn1cblxuaW50ZXJmYWNlIElIZWFkZXJzIHtcbiAgXCJ1c2VyLWFnZW50XCI6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIERlZmF1bHRQcm9wcyB7XG4gIHNob3dzOiBhbnk7XG4gIHVzZXJBZ2VudDogU3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgSUl0ZW0ge1xuICBzaG93OiBvYmplY3Q7XG59XG5cbkluZGV4LmdldEluaXRpYWxQcm9wcyA9IGFzeW5jIGZ1bmN0aW9uKGNvbnRleHQ6IElDb250ZXh0KSB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiaHR0cHM6Ly9hcGkudHZtYXplLmNvbS9zZWFyY2gvc2hvd3M/cT1iYXRtYW5cIik7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICBjb25zdCB1c2VyQWdlbnQgPSBjb250ZXh0LnJlcVxuICAgID8gY29udGV4dC5yZXEuaGVhZGVyc1tcInVzZXItYWdlbnRcIl1cbiAgICA6IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHJldHVybiB7XG4gICAgc2hvd3M6IGRhdGEubWFwKChpdGVtOiBJSXRlbSk6IG9iamVjdCA9PiBpdGVtLnNob3cpLFxuICAgIHVzZXJBZ2VudFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW5kZXg7XG4iXX0= */\\n/*@ sourceURL=/Users/mac/Projects/next-demo/pages/index.tsx */\"));\n};\n\nvar Index = function Index(props) {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"jsx-4181757484\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Batman TV Shows\"), __jsx(\"h2\", {\n    className: \"jsx-4181757484\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Hello userAgent is \", props.userAgent), __jsx(\"ul\", {\n    className: \"jsx-4181757484\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, props.shows.map(function (show) {\n    return __jsx(PostLink, {\n      key: show.id,\n      show: show,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    });\n  })), __jsx(_JSXStyle, {\n    id: \"4181757484\",\n    __self: this\n  }, \"h1.jsx-4181757484,a.jsx-4181757484{font-family:\\\"Arial\\\";}ul.jsx-4181757484{padding:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWMvUHJvamVjdHMvbmV4dC1kZW1vL3BhZ2VzL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxQ2dCLEFBSTZCLEFBSVYsVUFDWixVQUpBIiwiZmlsZSI6Ii9Vc2Vycy9tYWMvUHJvamVjdHMvbmV4dC1kZW1vL3BhZ2VzL2luZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvTXlMYXlvdXRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XG5cbmNvbnN0IFBvc3RMaW5rID0gKHsgc2hvdyB9OiB7IHNob3c6IGFueSB9KSA9PiAoXG4gIDxsaT5cbiAgICA8TGluayBocmVmPVwiL3Nob3cvW2lkXVwiIGFzPXtgL3Nob3cvJHtzaG93LmlkfWB9PlxuICAgICAgPGE+e3Nob3cubmFtZX08L2E+XG4gICAgPC9MaW5rPlxuICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgIGxpIHtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgbWFyZ2luOiA1cHggMDtcbiAgICAgIH1cblxuICAgICAgYSB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBcIkFyaWFsXCI7XG4gICAgICB9XG5cbiAgICAgIGE6aG92ZXIge1xuICAgICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICB9XG4gICAgYH08L3N0eWxlPlxuICA8L2xpPlxuKTtcblxuY29uc3QgSW5kZXggPSAocHJvcHM6IERlZmF1bHRQcm9wcykgPT4gKFxuICA8TGF5b3V0PlxuICAgIDxoMT5CYXRtYW4gVFYgU2hvd3M8L2gxPlxuICAgIDxoMj5IZWxsbyB1c2VyQWdlbnQgaXMge3Byb3BzLnVzZXJBZ2VudH08L2gyPlxuICAgIDx1bD5cbiAgICAgIHtwcm9wcy5zaG93cy5tYXAoKHNob3c6IGFueSkgPT4gKFxuICAgICAgICA8UG9zdExpbmsga2V5PXtzaG93LmlkfSBzaG93PXtzaG93fSAvPlxuICAgICAgKSl9XG4gICAgPC91bD5cbiAgICA8c3R5bGUganN4PntgXG4gICAgICBoMSxcbiAgICAgIGEge1xuICAgICAgICBmb250LWZhbWlseTogXCJBcmlhbFwiO1xuICAgICAgfVxuXG4gICAgICB1bCB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICB9XG4gICAgYH08L3N0eWxlPlxuICA8L0xheW91dD5cbik7XG5cbmludGVyZmFjZSBJQ29udGV4dCB7XG4gIHJlcTogSVJlcTtcbn1cblxuaW50ZXJmYWNlIElSZXEge1xuICBoZWFkZXJzOiBJSGVhZGVycztcbn1cblxuaW50ZXJmYWNlIElIZWFkZXJzIHtcbiAgXCJ1c2VyLWFnZW50XCI6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIERlZmF1bHRQcm9wcyB7XG4gIHNob3dzOiBhbnk7XG4gIHVzZXJBZ2VudDogU3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgSUl0ZW0ge1xuICBzaG93OiBvYmplY3Q7XG59XG5cbkluZGV4LmdldEluaXRpYWxQcm9wcyA9IGFzeW5jIGZ1bmN0aW9uKGNvbnRleHQ6IElDb250ZXh0KSB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiaHR0cHM6Ly9hcGkudHZtYXplLmNvbS9zZWFyY2gvc2hvd3M/cT1iYXRtYW5cIik7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICBjb25zdCB1c2VyQWdlbnQgPSBjb250ZXh0LnJlcVxuICAgID8gY29udGV4dC5yZXEuaGVhZGVyc1tcInVzZXItYWdlbnRcIl1cbiAgICA6IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHJldHVybiB7XG4gICAgc2hvd3M6IGRhdGEubWFwKChpdGVtOiBJSXRlbSk6IG9iamVjdCA9PiBpdGVtLnNob3cpLFxuICAgIHVzZXJBZ2VudFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW5kZXg7XG4iXX0= */\\n/*@ sourceURL=/Users/mac/Projects/next-demo/pages/index.tsx */\"));\n};\n\nIndex.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var res, data, userAgent;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(\"https://api.tvmaze.com/search/shows?q=batman\");\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return res.json();\n\n          case 5:\n            data = _context.sent;\n            userAgent = context.req ? context.req.headers[\"user-agent\"] : navigator.userAgent;\n            return _context.abrupt(\"return\", {\n              shows: data.map(function (item) {\n                return item.show;\n              }),\n              userAgent: userAgent\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Index;","map":{"version":3,"sources":["/Users/mac/Projects/next-demo/pages/index.tsx"],"names":["Layout","Link","fetch","PostLink","show","id","name","Index","props","userAgent","shows","map","getInitialProps","context","res","json","data","req","headers","navigator","item"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,wBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA,MAAGC,IAAH,QAAGA,IAAH;AAAA,SACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,YAAX;AAAwB,IAAA,EAAE,kBAAWA,IAAI,CAACC,EAAhB,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAID,IAAI,CAACE,IAAT,CADF,CADF;AAAA;AAAA;AAAA,+uFADe;AAAA,CAAjB;;AAwBA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD;AAAA,SACZ,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAwBA,KAAK,CAACC,SAA9B,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,KAAK,CAACE,KAAN,CAAYC,GAAZ,CAAgB,UAACP,IAAD;AAAA,WACf,MAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,IAAI,CAACC,EAApB;AAAwB,MAAA,IAAI,EAAED,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADe;AAAA,GAAhB,CADH,CAHF;AAAA;AAAA;AAAA,ymFADY;AAAA,CAAd;;AA2CAG,KAAK,CAACK,eAAN;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAwB,iBAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACJX,KAAK,CAAC,8CAAD,CADD;;AAAA;AAChBY,YAAAA,GADgB;AAAA;AAAA,mBAEHA,GAAG,CAACC,IAAJ,EAFG;;AAAA;AAEhBC,YAAAA,IAFgB;AAGhBP,YAAAA,SAHgB,GAGJI,OAAO,CAACI,GAAR,GACdJ,OAAO,CAACI,GAAR,CAAYC,OAAZ,CAAoB,YAApB,CADc,GAEdC,SAAS,CAACV,SALQ;AAAA,6CAMf;AACLC,cAAAA,KAAK,EAAEM,IAAI,CAACL,GAAL,CAAS,UAACS,IAAD;AAAA,uBAAyBA,IAAI,CAAChB,IAA9B;AAAA,eAAT,CADF;AAELK,cAAAA,SAAS,EAATA;AAFK,aANe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAYA,eAAeF,KAAf","sourcesContent":["import Layout from \"../components/MyLayout\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\";\n\nconst PostLink = ({ show }: { show: any }) => (\n  <li>\n    <Link href=\"/show/[id]\" as={`/show/${show.id}`}>\n      <a>{show.name}</a>\n    </Link>\n    <style jsx>{`\n      li {\n        list-style: none;\n        margin: 5px 0;\n      }\n\n      a {\n        text-decoration: none;\n        color: blue;\n        font-family: \"Arial\";\n      }\n\n      a:hover {\n        opacity: 0.6;\n      }\n    `}</style>\n  </li>\n);\n\nconst Index = (props: DefaultProps) => (\n  <Layout>\n    <h1>Batman TV Shows</h1>\n    <h2>Hello userAgent is {props.userAgent}</h2>\n    <ul>\n      {props.shows.map((show: any) => (\n        <PostLink key={show.id} show={show} />\n      ))}\n    </ul>\n    <style jsx>{`\n      h1,\n      a {\n        font-family: \"Arial\";\n      }\n\n      ul {\n        padding: 0;\n      }\n    `}</style>\n  </Layout>\n);\n\ninterface IContext {\n  req: IReq;\n}\n\ninterface IReq {\n  headers: IHeaders;\n}\n\ninterface IHeaders {\n  \"user-agent\": string;\n}\n\ninterface DefaultProps {\n  shows: any;\n  userAgent: String;\n}\n\ninterface IItem {\n  show: object;\n}\n\nIndex.getInitialProps = async function(context: IContext) {\n  const res = await fetch(\"https://api.tvmaze.com/search/shows?q=batman\");\n  const data = await res.json();\n  const userAgent = context.req\n    ? context.req.headers[\"user-agent\"]\n    : navigator.userAgent;\n  return {\n    shows: data.map((item: IItem): object => item.show),\n    userAgent\n  };\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}