{"ast":null,"code":"import _Card from \"antd/lib/card\";\nimport _Avatar from \"antd/lib/avatar\";\nvar _jsxFileName = \"/Users/mac/Projects/next-demo/pages/index.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/MyLayout\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\";\n\nconst PostLink = ({\n  show\n}) => __jsx(\"li\", {\n  className: \"jsx-3950785544\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33\n  },\n  __self: this\n}, __jsx(Link, {\n  href: \"/detail/[id]\",\n  as: `/detail/${show.id}`,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34\n  },\n  __self: this\n}, __jsx(\"a\", {\n  className: \"jsx-3950785544\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35\n  },\n  __self: this\n}, show.name, \" - \", show.id)), __jsx(_JSXStyle, {\n  id: \"3950785544\",\n  __self: this\n}, \"li.jsx-3950785544{list-style:none;margin:5px 0;}a.jsx-3950785544{-webkit-text-decoration:none;text-decoration:none;color:blue;font-family:\\\"Arial\\\";}a.jsx-3950785544:hover{opacity:0.6;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWMvUHJvamVjdHMvbmV4dC1kZW1vL3BhZ2VzL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzQ2dCLEFBR3lCLEFBS0ssQUFNVCxZQUNkLElBWGUsYUFDZixxQkFJYSxXQUNTLG9CQUN0QiIsImZpbGUiOiIvVXNlcnMvbWFjL1Byb2plY3RzL25leHQtZGVtby9wYWdlcy9pbmRleC50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGF5b3V0IGZyb20gXCIuLi9jb21wb25lbnRzL015TGF5b3V0XCI7XG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG5pbXBvcnQgZmV0Y2ggZnJvbSBcImlzb21vcnBoaWMtdW5mZXRjaFwiO1xuaW1wb3J0IHsgU2tlbGV0b24sIEJ1dHRvbiwgU3dpdGNoLCBDYXJkLCBJY29uLCBBdmF0YXIgfSBmcm9tIFwiYW50ZFwiO1xuXG5pbnRlcmZhY2UgSUNvbnRleHQge1xuICByZXE6IElSZXE7XG59XG5cbmludGVyZmFjZSBJUmVxIHtcbiAgaGVhZGVyczogSUhlYWRlcnM7XG59XG5cbmludGVyZmFjZSBJSGVhZGVycyB7XG4gIFwidXNlci1hZ2VudFwiOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBEZWZhdWx0UHJvcHMge1xuICBzaG93czogYW55W107XG4gIHVzZXJBZ2VudDogU3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgSUl0ZW0ge1xuICBzaG93OiBvYmplY3Q7XG59XG5cbmludGVyZmFjZSBJU2hvdyB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuY29uc3QgUG9zdExpbmsgPSAoeyBzaG93IH06IHsgc2hvdzogSVNob3cgfSkgPT4gKFxuICA8bGk+XG4gICAgPExpbmsgaHJlZj1cIi9kZXRhaWwvW2lkXVwiIGFzPXtgL2RldGFpbC8ke3Nob3cuaWR9YH0+XG4gICAgICA8YT5cbiAgICAgICAge3Nob3cubmFtZX0gLSB7c2hvdy5pZH1cbiAgICAgIDwvYT5cbiAgICA8L0xpbms+XG4gICAgPHN0eWxlIGpzeD57YFxuICAgICAgbGkge1xuICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgICAgICBtYXJnaW46IDVweCAwO1xuICAgICAgfVxuXG4gICAgICBhIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICBjb2xvcjogYmx1ZTtcbiAgICAgICAgZm9udC1mYW1pbHk6IFwiQXJpYWxcIjtcbiAgICAgIH1cblxuICAgICAgYTpob3ZlciB7XG4gICAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gIDwvbGk+XG4pO1xuXG5jb25zdCBJbmRleCA9IChwcm9wczogRGVmYXVsdFByb3BzKSA9PiAoXG4gIDxMYXlvdXQ+XG4gICAgPGgxPkJhdG1hbiBUViBTaG93czwvaDE+XG4gICAgPGgyPkhlbGxvIHVzZXJBZ2VudCBpcyB7cHJvcHMudXNlckFnZW50fTwvaDI+XG4gICAgPENhcmQgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBtYXJnaW5Ub3A6IDE2IH19PlxuICAgICAgPENhcmQuTWV0YVxuICAgICAgICBhdmF0YXI9e1xuICAgICAgICAgIDxBdmF0YXIgc3JjPVwiaHR0cHM6Ly96b3MuYWxpcGF5b2JqZWN0cy5jb20vcm1zcG9ydGFsL09EVExjanhBZnZxYnhIblZYQ1lYLnBuZ1wiIC8+XG4gICAgICAgIH1cbiAgICAgICAgdGl0bGU9XCJDYXJkIHRpdGxlXCJcbiAgICAgICAgZGVzY3JpcHRpb249XCJUaGlzIGlzIHRoZSBkZXNjcmlwdGlvblwiXG4gICAgICAvPlxuICAgIDwvQ2FyZD5cbiAgICA8dWw+XG4gICAgICB7cHJvcHMuc2hvd3MubWFwKChzaG93OiBhbnkpID0+IChcbiAgICAgICAgPFBvc3RMaW5rIGtleT17c2hvdy5pZH0gc2hvdz17c2hvd30gLz5cbiAgICAgICkpfVxuICAgIDwvdWw+XG4gICAgPHN0eWxlIGpzeD57YFxuICAgICAgaDEsXG4gICAgICBhIHtcbiAgICAgICAgZm9udC1mYW1pbHk6IFwiQXJpYWxcIjtcbiAgICAgIH1cblxuICAgICAgdWwge1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgfVxuICAgIGB9PC9zdHlsZT5cbiAgPC9MYXlvdXQ+XG4pO1xuXG5JbmRleC5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyBmdW5jdGlvbihjb250ZXh0OiBJQ29udGV4dCkge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vYXBpLnR2bWF6ZS5jb20vc2VhcmNoL3Nob3dzP3E9YmF0bWFuXCIpO1xuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgY29uc3QgdXNlckFnZW50ID0gY29udGV4dC5yZXFcbiAgICA/IGNvbnRleHQucmVxLmhlYWRlcnNbXCJ1c2VyLWFnZW50XCJdXG4gICAgOiBuYXZpZ2F0b3IudXNlckFnZW50O1xuICByZXR1cm4ge1xuICAgIHNob3dzOiBkYXRhLm1hcCgoaXRlbTogSUl0ZW0pOiBvYmplY3QgPT4gaXRlbS5zaG93KSxcbiAgICB1c2VyQWdlbnRcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4O1xuIl19 */\\n/*@ sourceURL=/Users/mac/Projects/next-demo/pages/index.tsx */\"));\n\nconst Index = props => __jsx(Layout, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 59\n  },\n  __self: this\n}, __jsx(\"h1\", {\n  className: \"jsx-4181757484\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 60\n  },\n  __self: this\n}, \"Batman TV Shows\"), __jsx(\"h2\", {\n  className: \"jsx-4181757484\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 61\n  },\n  __self: this\n}, \"Hello userAgent is \", props.userAgent), __jsx(_Card, {\n  style: {\n    width: \"100%\",\n    marginTop: 16\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62\n  },\n  __self: this\n}, __jsx(_Card.Meta, {\n  avatar: __jsx(_Avatar, {\n    src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }),\n  title: \"Card title\",\n  description: \"This is the description\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 63\n  },\n  __self: this\n})), __jsx(\"ul\", {\n  className: \"jsx-4181757484\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71\n  },\n  __self: this\n}, props.shows.map(show => __jsx(PostLink, {\n  key: show.id,\n  show: show,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 73\n  },\n  __self: this\n}))), __jsx(_JSXStyle, {\n  id: \"4181757484\",\n  __self: this\n}, \"h1.jsx-4181757484,a.jsx-4181757484{font-family:\\\"Arial\\\";}ul.jsx-4181757484{padding:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWMvUHJvamVjdHMvbmV4dC1kZW1vL3BhZ2VzL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEyRWdCLEFBSTZCLEFBSVYsVUFDWixVQUpBIiwiZmlsZSI6Ii9Vc2Vycy9tYWMvUHJvamVjdHMvbmV4dC1kZW1vL3BhZ2VzL2luZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvTXlMYXlvdXRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XG5pbXBvcnQgeyBTa2VsZXRvbiwgQnV0dG9uLCBTd2l0Y2gsIENhcmQsIEljb24sIEF2YXRhciB9IGZyb20gXCJhbnRkXCI7XG5cbmludGVyZmFjZSBJQ29udGV4dCB7XG4gIHJlcTogSVJlcTtcbn1cblxuaW50ZXJmYWNlIElSZXEge1xuICBoZWFkZXJzOiBJSGVhZGVycztcbn1cblxuaW50ZXJmYWNlIElIZWFkZXJzIHtcbiAgXCJ1c2VyLWFnZW50XCI6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIERlZmF1bHRQcm9wcyB7XG4gIHNob3dzOiBhbnlbXTtcbiAgdXNlckFnZW50OiBTdHJpbmc7XG59XG5cbmludGVyZmFjZSBJSXRlbSB7XG4gIHNob3c6IG9iamVjdDtcbn1cblxuaW50ZXJmYWNlIElTaG93IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xufVxuXG5jb25zdCBQb3N0TGluayA9ICh7IHNob3cgfTogeyBzaG93OiBJU2hvdyB9KSA9PiAoXG4gIDxsaT5cbiAgICA8TGluayBocmVmPVwiL2RldGFpbC9baWRdXCIgYXM9e2AvZGV0YWlsLyR7c2hvdy5pZH1gfT5cbiAgICAgIDxhPlxuICAgICAgICB7c2hvdy5uYW1lfSAtIHtzaG93LmlkfVxuICAgICAgPC9hPlxuICAgIDwvTGluaz5cbiAgICA8c3R5bGUganN4PntgXG4gICAgICBsaSB7XG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICAgIG1hcmdpbjogNXB4IDA7XG4gICAgICB9XG5cbiAgICAgIGEge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIGNvbG9yOiBibHVlO1xuICAgICAgICBmb250LWZhbWlseTogXCJBcmlhbFwiO1xuICAgICAgfVxuXG4gICAgICBhOmhvdmVyIHtcbiAgICAgICAgb3BhY2l0eTogMC42O1xuICAgICAgfVxuICAgIGB9PC9zdHlsZT5cbiAgPC9saT5cbik7XG5cbmNvbnN0IEluZGV4ID0gKHByb3BzOiBEZWZhdWx0UHJvcHMpID0+IChcbiAgPExheW91dD5cbiAgICA8aDE+QmF0bWFuIFRWIFNob3dzPC9oMT5cbiAgICA8aDI+SGVsbG8gdXNlckFnZW50IGlzIHtwcm9wcy51c2VyQWdlbnR9PC9oMj5cbiAgICA8Q2FyZCBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIsIG1hcmdpblRvcDogMTYgfX0+XG4gICAgICA8Q2FyZC5NZXRhXG4gICAgICAgIGF2YXRhcj17XG4gICAgICAgICAgPEF2YXRhciBzcmM9XCJodHRwczovL3pvcy5hbGlwYXlvYmplY3RzLmNvbS9ybXNwb3J0YWwvT0RUTGNqeEFmdnFieEhuVlhDWVgucG5nXCIgLz5cbiAgICAgICAgfVxuICAgICAgICB0aXRsZT1cIkNhcmQgdGl0bGVcIlxuICAgICAgICBkZXNjcmlwdGlvbj1cIlRoaXMgaXMgdGhlIGRlc2NyaXB0aW9uXCJcbiAgICAgIC8+XG4gICAgPC9DYXJkPlxuICAgIDx1bD5cbiAgICAgIHtwcm9wcy5zaG93cy5tYXAoKHNob3c6IGFueSkgPT4gKFxuICAgICAgICA8UG9zdExpbmsga2V5PXtzaG93LmlkfSBzaG93PXtzaG93fSAvPlxuICAgICAgKSl9XG4gICAgPC91bD5cbiAgICA8c3R5bGUganN4PntgXG4gICAgICBoMSxcbiAgICAgIGEge1xuICAgICAgICBmb250LWZhbWlseTogXCJBcmlhbFwiO1xuICAgICAgfVxuXG4gICAgICB1bCB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICB9XG4gICAgYH08L3N0eWxlPlxuICA8L0xheW91dD5cbik7XG5cbkluZGV4LmdldEluaXRpYWxQcm9wcyA9IGFzeW5jIGZ1bmN0aW9uKGNvbnRleHQ6IElDb250ZXh0KSB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiaHR0cHM6Ly9hcGkudHZtYXplLmNvbS9zZWFyY2gvc2hvd3M/cT1iYXRtYW5cIik7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICBjb25zdCB1c2VyQWdlbnQgPSBjb250ZXh0LnJlcVxuICAgID8gY29udGV4dC5yZXEuaGVhZGVyc1tcInVzZXItYWdlbnRcIl1cbiAgICA6IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHJldHVybiB7XG4gICAgc2hvd3M6IGRhdGEubWFwKChpdGVtOiBJSXRlbSk6IG9iamVjdCA9PiBpdGVtLnNob3cpLFxuICAgIHVzZXJBZ2VudFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW5kZXg7XG4iXX0= */\\n/*@ sourceURL=/Users/mac/Projects/next-demo/pages/index.tsx */\"));\n\nIndex.getInitialProps = async function (context) {\n  const res = await fetch(\"https://api.tvmaze.com/search/shows?q=batman\");\n  const data = await res.json();\n  const userAgent = context.req ? context.req.headers[\"user-agent\"] : navigator.userAgent;\n  return {\n    shows: data.map(item => item.show),\n    userAgent\n  };\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/mac/Projects/next-demo/pages/index.tsx"],"names":["Layout","Link","fetch","PostLink","show","id","name","Index","props","userAgent","width","marginTop","shows","map","getInitialProps","context","res","data","json","req","headers","navigator","item"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,wBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AA6BA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE,MAAC,IAAD;AAAM,EAAA,IAAI,EAAC,cAAX;AAA0B,EAAA,EAAE,EAAG,WAAUA,IAAI,CAACC,EAAG,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACGD,IAAI,CAACE,IADR,SACiBF,IAAI,CAACC,EADtB,CADF,CADF;AAAA;AAAA;AAAA,y1GADF;;AA0BA,MAAME,KAAK,GAAIC,KAAD,IACZ,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAwBA,KAAK,CAACC,SAA9B,CAFF,EAGE;AAAM,EAAA,KAAK,EAAE;AAAEC,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,SAAS,EAAE;AAA5B,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE,YAAM,IAAN;AACE,EAAA,MAAM,EACJ;AAAQ,IAAA,GAAG,EAAC,kEAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ;AAIE,EAAA,KAAK,EAAC,YAJR;AAKE,EAAA,WAAW,EAAC,yBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF,CAHF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACGH,KAAK,CAACI,KAAN,CAAYC,GAAZ,CAAiBT,IAAD,IACf,MAAC,QAAD;AAAU,EAAA,GAAG,EAAEA,IAAI,CAACC,EAApB;AAAwB,EAAA,IAAI,EAAED,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADD,CADH,CAZF;AAAA;AAAA;AAAA,mtGADF;;AA+BAG,KAAK,CAACO,eAAN,GAAwB,gBAAeC,OAAf,EAAkC;AACxD,QAAMC,GAAG,GAAG,MAAMd,KAAK,CAAC,8CAAD,CAAvB;AACA,QAAMe,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAAnB;AACA,QAAMT,SAAS,GAAGM,OAAO,CAACI,GAAR,GACdJ,OAAO,CAACI,GAAR,CAAYC,OAAZ,CAAoB,YAApB,CADc,GAEdC,SAAS,CAACZ,SAFd;AAGA,SAAO;AACLG,IAAAA,KAAK,EAAEK,IAAI,CAACJ,GAAL,CAAUS,IAAD,IAAyBA,IAAI,CAAClB,IAAvC,CADF;AAELK,IAAAA;AAFK,GAAP;AAID,CAVD;;AAYA,eAAeF,KAAf","sourcesContent":["import Layout from \"../components/MyLayout\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\";\nimport { Skeleton, Button, Switch, Card, Icon, Avatar } from \"antd\";\n\ninterface IContext {\n  req: IReq;\n}\n\ninterface IReq {\n  headers: IHeaders;\n}\n\ninterface IHeaders {\n  \"user-agent\": string;\n}\n\ninterface DefaultProps {\n  shows: any[];\n  userAgent: String;\n}\n\ninterface IItem {\n  show: object;\n}\n\ninterface IShow {\n  id: string;\n  name: string;\n}\n\nconst PostLink = ({ show }: { show: IShow }) => (\n  <li>\n    <Link href=\"/detail/[id]\" as={`/detail/${show.id}`}>\n      <a>\n        {show.name} - {show.id}\n      </a>\n    </Link>\n    <style jsx>{`\n      li {\n        list-style: none;\n        margin: 5px 0;\n      }\n\n      a {\n        text-decoration: none;\n        color: blue;\n        font-family: \"Arial\";\n      }\n\n      a:hover {\n        opacity: 0.6;\n      }\n    `}</style>\n  </li>\n);\n\nconst Index = (props: DefaultProps) => (\n  <Layout>\n    <h1>Batman TV Shows</h1>\n    <h2>Hello userAgent is {props.userAgent}</h2>\n    <Card style={{ width: \"100%\", marginTop: 16 }}>\n      <Card.Meta\n        avatar={\n          <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n        }\n        title=\"Card title\"\n        description=\"This is the description\"\n      />\n    </Card>\n    <ul>\n      {props.shows.map((show: any) => (\n        <PostLink key={show.id} show={show} />\n      ))}\n    </ul>\n    <style jsx>{`\n      h1,\n      a {\n        font-family: \"Arial\";\n      }\n\n      ul {\n        padding: 0;\n      }\n    `}</style>\n  </Layout>\n);\n\nIndex.getInitialProps = async function(context: IContext) {\n  const res = await fetch(\"https://api.tvmaze.com/search/shows?q=batman\");\n  const data = await res.json();\n  const userAgent = context.req\n    ? context.req.headers[\"user-agent\"]\n    : navigator.userAgent;\n  return {\n    shows: data.map((item: IItem): object => item.show),\n    userAgent\n  };\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}