{"ast":null,"code":"import _List from \"antd/lib/list\";\nimport _Avatar from \"antd/lib/avatar\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Icon from \"antd/lib/icon\";\nvar _jsxFileName = \"/Users/mac/Projects/react-next-demo/pages/article.tsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\n\nconst IconText = ({\n  type,\n  text\n}) => __jsx(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40\n  },\n  __self: this\n}, __jsx(_Icon, {\n  type: type,\n  style: {\n    marginRight: 8\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 41\n  },\n  __self: this\n}), text);\n\nclass Article extends Component {\n  static async getInitialProps() {\n    const res = await axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n    const data = res.data;\n    return {\n      shows: data.map(item => item.show)\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      loading: true,\n      active: \"hot\",\n      // hot or new\n      loadingMore: false,\n      hasMore: true\n    });\n  }\n\n  componentDidMount() {\n    if (this.props && this.props.shows) {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  changeActive(active) {\n    this.setState({\n      active\n    });\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"article\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"article-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"left-home-order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      onClick: () => this.changeActive(\"hot\"),\n      className: classnames({\n        active: this.state.active === \"hot\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\u70ED\\u95E8\\u6392\\u884C\"), __jsx(\"i\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      onClick: () => this.changeActive(\"new\"),\n      className: classnames({\n        active: this.state.active === \"new\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"\\u6700\\u65B0\\u66F4\\u65B0\")), console.log(\"object :\", this.props.shows), __jsx(_List, {\n      itemLayout: \"vertical\",\n      size: \"large\",\n      pagination: {\n        onChange: page => {\n          console.log(page);\n        },\n        pageSize: 10\n      },\n      dataSource: this.props.shows,\n      renderItem: item => __jsx(_List.Item, {\n        key: item.summary,\n        actions: [__jsx(IconText, {\n          type: \"star-o\",\n          text: \"156\",\n          key: \"list-vertical-star-o\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }), __jsx(IconText, {\n          type: \"like-o\",\n          text: \"156\",\n          key: \"list-vertical-like-o\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }), __jsx(IconText, {\n          type: \"message\",\n          text: \"2\",\n          key: \"list-vertical-message\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        })],\n        extra: __jsx(\"img\", {\n          width: 272,\n          height: 168,\n          alt: \"logo\",\n          src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQEGh4jXHhv9fgI7hMGZhagHHz1fyIal1dhOORMXya2RtzTQbPneg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, __jsx(_List.Item.Meta, {\n        avatar: __jsx(_Avatar, {\n          size: 48,\n          src: item.image.medium,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }),\n        title: __jsx(\"a\", {\n          href: item.url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, item.name),\n        description: __jsx(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: item.premiered\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: item.summary.slice(0, 90) + \"...\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"article-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"tag-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, __jsx(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, this.props.shows.map(item => {\n      return __jsx(\"li\", {\n        key: uuid(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: item.image.medium,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, item.name.slice(0, 10)), __jsx(\"div\", {\n        className: \"num\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"111\"));\n    })))))));\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["/Users/mac/Projects/react-next-demo/pages/article.tsx"],"names":["React","Component","Layout","axios","classnames","uuid","IconText","type","text","marginRight","Article","getInitialProps","res","get","data","shows","map","item","show","constructor","props","loading","active","loadingMore","hasMore","componentDidMount","setState","changeActive","render","state","console","log","onChange","page","pageSize","summary","image","medium","url","name","__html","premiered","slice"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport { withRouter } from \"next/router\";\nimport { List, Avatar, Icon } from \"antd\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\n\ninterface IProps {\n  router: object;\n  shows: [];\n  homeStore: object;\n}\n\ninterface IState {\n  loading: boolean;\n  loadingMore: boolean;\n  hasMore: boolean;\n  active: string;\n}\ninterface IRes {\n  data: [];\n}\ninterface IItem {\n  show: object;\n}\ninterface IK {\n  id: number;\n  url: string;\n  name: string;\n  summary: string;\n  premiered: string;\n  image: {\n    medium: string;\n    original: string;\n  };\n}\n\nconst IconText = ({ type, text }: { type: string; text: string }) => (\n  <span>\n    <Icon type={type} style={{ marginRight: 8 }} />\n    {text}\n  </span>\n);\n\nclass Article extends Component<IProps, IState> {\n  static async getInitialProps() {\n    const res: IRes = await axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n    const data = res.data;\n    return {\n      shows: data.map((item: IItem): object => item.show)\n    };\n  }\n\n  public state = {\n    loading: true,\n    active: \"hot\", // hot or new\n    loadingMore: false,\n    hasMore: true\n  };\n\n  constructor(props: IProps) {\n    super(props);\n  }\n\n  componentDidMount() {\n    if (this.props && this.props.shows) {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  public changeActive(active: string) {\n    this.setState({\n      active\n    });\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div className=\"article\">\n          <div className=\"article-left\">\n            <div className=\"left-home-order\">\n              <span\n                onClick={() => this.changeActive(\"hot\")}\n                className={classnames({ active: this.state.active === \"hot\" })}\n              >\n                热门排行\n              </span>\n              <i className=\"line\"></i>\n              <span\n                onClick={() => this.changeActive(\"new\")}\n                className={classnames({ active: this.state.active === \"new\" })}\n              >\n                最新更新\n              </span>\n            </div>\n            {console.log(\"object :\", this.props.shows)}\n            <List\n              itemLayout=\"vertical\"\n              size=\"large\"\n              pagination={{\n                onChange: page => {\n                  console.log(page);\n                },\n                pageSize: 10\n              }}\n              dataSource={this.props.shows}\n              renderItem={(item: IK) => (\n                <List.Item\n                  key={item.summary}\n                  actions={[\n                    <IconText type=\"star-o\" text=\"156\" key=\"list-vertical-star-o\" />,\n                    <IconText type=\"like-o\" text=\"156\" key=\"list-vertical-like-o\" />,\n                    <IconText type=\"message\" text=\"2\" key=\"list-vertical-message\" />\n                  ]}\n                  extra={\n                    <img\n                      width={272}\n                      height={168}\n                      alt=\"logo\"\n                      src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQEGh4jXHhv9fgI7hMGZhagHHz1fyIal1dhOORMXya2RtzTQbPneg\"\n                    />\n                  }\n                >\n                  <List.Item.Meta\n                    avatar={<Avatar size={48} src={item.image.medium} />}\n                    title={<a href={item.url}>{item.name}</a>}\n                    description={<div dangerouslySetInnerHTML={{ __html: item.premiered }} />}\n                  />\n                  {<div dangerouslySetInnerHTML={{ __html: item.summary.slice(0, 90) + \"...\" }} />}\n                </List.Item>\n              )}\n            />\n          </div>\n          <div className=\"article-right\">\n            <div className=\"tag\">\n              {/* <div className=\"recommend-header item-header\">\n\t\t\t\t\t\t\t\t<div className=\"recommend-title title\">文章推荐</div>\n\t\t\t\t\t\t\t\t<div className=\"recommend-more more\" onClick={() => {}}>\n\t\t\t\t\t\t\t\t\t查看更多 >\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div> */}\n              <div className=\"tag-content\">\n                <ul>\n                  {this.props.shows.map((item: IK) => {\n                    return (\n                      <li key={uuid()}>\n                        <img src={item.image.medium} alt=\"\" />\n                        <div className=\"name\">{item.name.slice(0, 10)}</div>\n                        <div className=\"num\">111</div>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}