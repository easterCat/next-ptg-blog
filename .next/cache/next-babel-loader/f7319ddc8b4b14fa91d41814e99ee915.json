{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Button from \"antd/lib/button\";\nimport _Avatar from \"antd/lib/avatar\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/mac/Projects/react-next-demo/pages/books.tsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\n\nvar Books =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Books, _Component);\n\n  function Books() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Books);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Books)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loading: true,\n      active: \"hot\",\n      // hot or new\n      loadingMore: false,\n      hasMore: true\n    });\n\n    return _this;\n  }\n\n  _createClass(Books, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props && this.props.shows) {\n        this.setState({\n          loading: false\n        });\n      }\n    }\n  }, {\n    key: \"changeActive\",\n    value: function changeActive(active) {\n      this.setState({\n        active: active\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"books-banner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: \"@/static/images/banner.jpg\",\n        alt: \"banner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: \"books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"books-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"left-home-order\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        onClick: function onClick() {\n          return _this2.changeActive(\"hot\");\n        },\n        className: classnames({\n          active: this.state.active === \"hot\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"\\u63A8\\u8350\\u4E66\\u7C4D\"), __jsx(\"i\", {\n        className: \"line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        onClick: function onClick() {\n          return _this2.changeActive(\"new\");\n        },\n        className: classnames({\n          active: this.state.active === \"new\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"\\u6211\\u8D2D\\u4E70\\u7684\\u4E66\\u7C4D\")), __jsx(\"ul\", {\n        className: \"books-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, Array(10).fill(0).map(function (item) {\n        return __jsx(\"li\", {\n          className: \"books-item\",\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"books-item-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          src: \"@/static/images/banner.jpg\",\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        })), __jsx(\"div\", {\n          className: \"books-item-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"books-item-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, \"\\u6211\\u672A\\u5B8C\\u6210\\u7684\\u95EE\\u9898\"), __jsx(\"div\", {\n          className: \"books-item-desc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"\\u901A\\u8FC7\\u5B9E\\u8DF5\\u5FEB\\u901F\\u4E0A\\u624B SwiftUI \\u53CA Combine \\u54CD\\u5E94\\u5F0F\\u7F16\\u7A0B\\u6846\\u67B6\\uFF0C\\u638C\\u63E1\\u4E0B\\u4E00\\u4EE3\\u5BA2\\u6237\\u7AEF UI \\u5F00\\u53D1\\u6280\\u672F\\u3002 WWDC 2019 \\u4E0A Apple \\u516C\\u5E03\\u4E86\\u58F0\\u660E\\u5F0F\\u5168\\u65B0\\u754C\\u9762\\u6846\\u67B6 SwiftUI\\uFF0C\\u4EE5\\u53CA\\u914D\\u5957\\u7684\\u54CD\\u5E94\\u5F0F\\u7F16\\u7A0B\\u6846\\u67B6 Combine\\u3002\\u5BF9\\u4E8E Apple \\u5E73\\u53F0\\u7684\\u5F00\\u53D1\\u8005\\u6765\\u8BF4\\uFF0C\\u8FD9\\u662F\\u4E00\\u6B21\\u5168\\u65B0\\u7684\\u8F6C\\u53D8\\u548C\\u6311\\u6218\\u3002\\u672C\\u4E66\\u901A\\u8FC7\\u51E0\\u4E2A\\u5177\\u4F53\\u7684\\u5B9E\\u6218\\u4F8B\\u5B50\\uFF0C\\u7531\\u6D45\\u5165\\u6DF1\\u4ECB\\u7ECD\\u4E86 SwiftUI \\u548C Combine \\u6846\\u67B6\\u7684\\u4F7F\\u7528\\u65B9\\u5F0F\\u53CA\\u6838\\u5FC3\\u601D\\u60F3\\uFF0C\\u5E2E\\u52A9\\u60A8\\u987A\\u5229\\u6B65\\u5165\\u4EE4\\u4EBA\\u6FC0\\u52A8\\u7684 Apple \\u5F00\\u53D1\\u65B0\\u65F6\\u4EE3\\u3002\"), __jsx(\"div\", {\n          className: \"books-item-avatar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, __jsx(_Avatar, {\n          size: 20,\n          src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }), __jsx(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, \" \\u90ED\\u5BCC\\u57CE\")), __jsx(\"div\", {\n          className: \"books-item-read\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, __jsx(_Button, {\n          type: \"danger\",\n          shape: \"round\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"\\u9605\\u8BFB\")), __jsx(\"div\", {\n          className: \"books-item-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, __jsx(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"\\xA5 19.9\"), __jsx(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"14 \\u7AE0\\u8282 \\xB7 222 \\u4EBA\\u8D2D\\u4E70\"))));\n      }))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n\n              case 2:\n                res = _context.sent;\n                data = res.data;\n                return _context.abrupt(\"return\", {\n                  shows: data.map(function (item) {\n                    return item.show;\n                  })\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Books;\n}(Component);\n\nexport default Books;","map":{"version":3,"sources":["/Users/mac/Projects/react-next-demo/pages/books.tsx"],"names":["React","Component","Layout","axios","classnames","uuid","Books","loading","active","loadingMore","hasMore","props","shows","setState","changeActive","state","Array","fill","map","item","get","res","data","show"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport { Button, Avatar } from \"antd\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\n\ninterface IProps {\n  router: object;\n  shows: [];\n  homeStore: object;\n}\n\ninterface IState {\n  loading: boolean;\n  loadingMore: boolean;\n  hasMore: boolean;\n  active: string;\n}\ninterface IRes {\n  data: [];\n}\ninterface IItem {\n  show: object;\n}\ninterface IK {\n  id: number;\n  url: string;\n  name: string;\n  summary: string;\n  premiered: string;\n  image: {\n    medium: string;\n    original: string;\n  };\n}\n\nclass Books extends Component<IProps, IState> {\n  static async getInitialProps() {\n    const res: IRes = await axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n    const data = res.data;\n    return {\n      shows: data.map((item: IItem): object => item.show)\n    };\n  }\n\n  public state = {\n    loading: true,\n    active: \"hot\", // hot or new\n    loadingMore: false,\n    hasMore: true\n  };\n\n  componentDidMount() {\n    if (this.props && this.props.shows) {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  public changeActive(active: string) {\n    this.setState({\n      active\n    });\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div>\n          <div className=\"books-banner\">\n            <img src=\"@/static/images/banner.jpg\" alt=\"banner\" />\n          </div>\n          <div className=\"books\">\n            <div className=\"books-left\">\n              <div className=\"left-home-order\">\n                <span\n                  onClick={() => this.changeActive(\"hot\")}\n                  className={classnames({ active: this.state.active === \"hot\" })}\n                >\n                  推荐书籍\n                </span>\n                <i className=\"line\"></i>\n                <span\n                  onClick={() => this.changeActive(\"new\")}\n                  className={classnames({ active: this.state.active === \"new\" })}\n                >\n                  我购买的书籍\n                </span>\n              </div>\n              <ul className=\"books-list\">\n                {Array(10)\n                  .fill(0)\n                  .map(item => {\n                    return (\n                      <li className=\"books-item\" key={uuid()}>\n                        <div className=\"books-item-left\">\n                          <img src=\"@/static/images/banner.jpg\" alt=\"\" />\n                        </div>\n                        <div className=\"books-item-right\">\n                          <div className=\"books-item-name\">我未完成的问题</div>\n                          <div className=\"books-item-desc\">\n                            通过实践快速上手 SwiftUI 及 Combine 响应式编程框架，掌握下一代客户端 UI 开发技术。 WWDC 2019\n                            上 Apple 公布了声明式全新界面框架 SwiftUI，以及配套的响应式编程框架 Combine。对于 Apple\n                            平台的开发者来说，这是一次全新的转变和挑战。本书通过几个具体的实战例子，由浅入深介绍了\n                            SwiftUI 和 Combine 框架的使用方式及核心思想，帮助您顺利步入令人激动的 Apple 开发新时代。\n                          </div>\n                          <div className=\"books-item-avatar\">\n                            <Avatar size={20} src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n                            <span> 郭富城</span>\n                          </div>\n                          <div className=\"books-item-read\">\n                            <Button type=\"danger\" shape=\"round\">\n                              阅读\n                            </Button>\n                          </div>\n                          <div className=\"books-item-price\">\n                            <span>¥ 19.9</span>\n                            <span>14 章节 · 222 人购买</span>\n                          </div>\n                        </div>\n                      </li>\n                    );\n                  })}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}