{"ast":null,"code":"import _Tag from \"antd/lib/tag\";\nimport _Button from \"antd/lib/button\";\nimport _List from \"antd/lib/list\";\nimport _Avatar from \"antd/lib/avatar\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Icon from \"antd/lib/icon\";\nvar _jsxFileName = \"/Users/mac/Projects/react-next-demo/pages/index.tsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\n\nvar IconText = function IconText(_ref) {\n  var type = _ref.type,\n      text = _ref.text;\n  return __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(_Icon, {\n    type: type,\n    style: {\n      marginRight: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), text);\n};\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  _createClass(Index, null, [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n\n              case 2:\n                res = _context.sent;\n                data = res.data;\n                return _context.abrupt(\"return\", {\n                  shows: data.map(function (item) {\n                    return item.show;\n                  })\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loading: true,\n      active: \"hot\",\n      // hot or new\n      loadingMore: false,\n      hasMore: true\n    });\n\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props && this.props.shows) {\n        this.setState({\n          loading: false\n        });\n      }\n    }\n  }, {\n    key: \"changeActive\",\n    value: function changeActive(active) {\n      this.setState({\n        active: active\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"left-home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"left-home-order\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        onClick: function onClick() {\n          return _this2.changeActive(\"hot\");\n        },\n        className: classnames({\n          active: this.state.active === \"hot\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\u70ED\\u95E8\\u6392\\u884C\"), __jsx(\"i\", {\n        className: \"line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        onClick: function onClick() {\n          return _this2.changeActive(\"new\");\n        },\n        className: classnames({\n          active: this.state.active === \"new\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"\\u6700\\u65B0\\u66F4\\u65B0\")), console.log(\"object :\", this.props.shows), __jsx(_List, {\n        itemLayout: \"vertical\",\n        size: \"large\",\n        pagination: {\n          onChange: function onChange(page) {\n            console.log(page);\n          },\n          pageSize: 10\n        },\n        dataSource: this.props.shows,\n        renderItem: function renderItem(item) {\n          return __jsx(_List.Item, {\n            key: item.summary,\n            actions: [__jsx(IconText, {\n              type: \"star-o\",\n              text: \"156\",\n              key: \"list-vertical-star-o\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 115\n              },\n              __self: this\n            }), __jsx(IconText, {\n              type: \"like-o\",\n              text: \"156\",\n              key: \"list-vertical-like-o\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 116\n              },\n              __self: this\n            }), __jsx(IconText, {\n              type: \"message\",\n              text: \"2\",\n              key: \"list-vertical-message\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 117\n              },\n              __self: this\n            })],\n            extra: __jsx(\"img\", {\n              width: 272,\n              height: 168,\n              alt: \"logo\",\n              src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQEGh4jXHhv9fgI7hMGZhagHHz1fyIal1dhOORMXya2RtzTQbPneg\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 120\n              },\n              __self: this\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, __jsx(_List.Item.Meta, {\n            avatar: __jsx(_Avatar, {\n              size: 48,\n              src: item.image.medium,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 129\n              },\n              __self: this\n            }),\n            title: __jsx(\"a\", {\n              href: item.url,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 130\n              },\n              __self: this\n            }, item.name),\n            description: __jsx(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: item.premiered\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 131\n              },\n              __self: this\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }), __jsx(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: item.summary.slice(0, 90) + \"...\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: \"right-home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"recommend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"recommend-header item-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"recommend-title title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"\\u6587\\u7AE0\\u63A8\\u8350\"), __jsx(\"div\", {\n        className: \"recommend-more more\",\n        onClick: function onClick() {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"\\u67E5\\u770B\\u66F4\\u591A >\")), __jsx(\"div\", {\n        className: \"recommend-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, __jsx(_List, {\n        itemLayout: \"horizontal\",\n        dataSource: this.props.shows.slice(0, 4),\n        renderItem: function renderItem(item) {\n          return __jsx(_List.Item, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151\n            },\n            __self: this\n          }, __jsx(_List.Item.Meta, {\n            avatar: __jsx(_Avatar, {\n              shape: \"square\",\n              size: 48,\n              src: \"https://images.xiaozhuanlan.com/photo/2019/57505071975c32af6b89a68abd2d3be6.png\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 154\n              },\n              __self: this\n            }),\n            title: __jsx(\"a\", {\n              href: \"https://ant.design\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 160\n              },\n              __self: this\n            }, \"Java\\u9762\\u8BD5\\u8FDB\\u9636\\u6307\\u5357\"),\n            description: \"\\u4E00\\u4EFD Java \\u7A0B\\u5E8F\\u5458\\u5FC5\\u5907\\u7684\\u9762\\u8BD5\\u8FDB\\u9636\\u6307\\u5357\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }))), __jsx(\"div\", {\n        className: \"article\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"article-header item-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"article-title title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"\\u5173\\u6CE8\\u4F5C\\u8005\"), __jsx(\"div\", {\n        className: \"article-more more\",\n        onClick: function onClick() {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"\\u67E5\\u770B\\u66F4\\u591A >\")), __jsx(\"div\", {\n        className: \"article-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, __jsx(_List, {\n        itemLayout: \"horizontal\",\n        dataSource: this.props.shows.slice(0, 4),\n        renderItem: function renderItem(item) {\n          return __jsx(_List.Item, {\n            actions: [__jsx(_Button, {\n              type: \"danger\",\n              ghost: true,\n              size: \"small\",\n              shape: \"round\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 183\n              },\n              __self: this\n            }, \"关注\")],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }, __jsx(_List.Item.Meta, {\n            avatar: __jsx(_Avatar, {\n              size: 48,\n              src: \"https://images.xiaozhuanlan.com/photo/2018/a2c66d38537fd015e7cdb3623936caf2.\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 190\n              },\n              __self: this\n            }),\n            title: __jsx(\"a\", {\n              href: \"https://ant.design\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 195\n              },\n              __self: this\n            }, \"\\u5927\\u4F5C\\u5BB6\"),\n            description: \"33 \\u4EBA\\u5173\\u6CE8\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: \"tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"item-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"\\u70ED\\u95E8\\u6807\\u7B7E\"), __jsx(\"div\", {\n        className: \"more\",\n        onClick: function onClick() {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"\\u67E5\\u770B\\u66F4\\u591A >\")), __jsx(\"div\", {\n        className: \"tag-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, Array(100).fill(0).map(function (item, index) {\n        return __jsx(_Tag, {\n          key: uuid(),\n          style: {\n            marginBottom: \"10px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, \"Tag 1\");\n      })))))));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport default Index;","map":{"version":3,"sources":["/Users/mac/Projects/react-next-demo/pages/index.tsx"],"names":["React","Component","Layout","axios","classnames","uuid","IconText","type","text","marginRight","Index","get","res","data","shows","map","item","show","props","loading","active","loadingMore","hasMore","setState","changeActive","state","console","log","onChange","page","pageSize","summary","image","medium","url","name","__html","premiered","slice","Array","fill","index","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport { withRouter } from \"next/router\";\nimport { Button, Tag, List, Avatar, Icon } from \"antd\";\nimport axios from \"axios\";\nimport classnames from \"classnames\";\nimport uuid from \"react-uuid\";\n\ninterface IProps {\n  router: object;\n  shows: [];\n  homeStore: object;\n}\n\ninterface IState {\n  loading: boolean;\n  loadingMore: boolean;\n  hasMore: boolean;\n  active: string;\n}\ninterface IRes {\n  data: [];\n}\ninterface IItem {\n  show: object;\n}\ninterface IK {\n  id: number;\n  url: string;\n  name: string;\n  summary: string;\n  premiered: string;\n  image: {\n    medium: string;\n    original: string;\n  };\n}\n\nconst IconText = ({ type, text }: any) => (\n  <span>\n    <Icon type={type} style={{ marginRight: 8 }} />\n    {text}\n  </span>\n);\n\nclass Index extends Component<IProps, IState> {\n  static async getInitialProps() {\n    const res: IRes = await axios.get(\"https://api.tvmaze.com/search/shows?q=batman\");\n    const data = res.data;\n    return {\n      shows: data.map((item: IItem): object => item.show)\n    };\n  }\n\n  public state = {\n    loading: true,\n    active: \"hot\", // hot or new\n    loadingMore: false,\n    hasMore: true\n  };\n\n  constructor(props: IProps) {\n    super(props);\n  }\n\n  componentDidMount() {\n    if (this.props && this.props.shows) {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  public changeActive(active: string) {\n    this.setState({\n      active\n    });\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div className=\"home\">\n          <div className=\"left-home\">\n            <div className=\"left-home-order\">\n              <span\n                onClick={() => this.changeActive(\"hot\")}\n                className={classnames({ active: this.state.active === \"hot\" })}\n              >\n                热门排行\n              </span>\n              <i className=\"line\"></i>\n              <span\n                onClick={() => this.changeActive(\"new\")}\n                className={classnames({ active: this.state.active === \"new\" })}\n              >\n                最新更新\n              </span>\n            </div>\n            {console.log(\"object :\", this.props.shows)}\n            <List\n              itemLayout=\"vertical\"\n              size=\"large\"\n              pagination={{\n                onChange: page => {\n                  console.log(page);\n                },\n                pageSize: 10\n              }}\n              dataSource={this.props.shows}\n              renderItem={(item: IK) => (\n                <List.Item\n                  key={item.summary}\n                  actions={[\n                    <IconText type=\"star-o\" text=\"156\" key=\"list-vertical-star-o\" />,\n                    <IconText type=\"like-o\" text=\"156\" key=\"list-vertical-like-o\" />,\n                    <IconText type=\"message\" text=\"2\" key=\"list-vertical-message\" />\n                  ]}\n                  extra={\n                    <img\n                      width={272}\n                      height={168}\n                      alt=\"logo\"\n                      src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQEGh4jXHhv9fgI7hMGZhagHHz1fyIal1dhOORMXya2RtzTQbPneg\"\n                    />\n                  }\n                >\n                  <List.Item.Meta\n                    avatar={<Avatar size={48} src={item.image.medium} />}\n                    title={<a href={item.url}>{item.name}</a>}\n                    description={<div dangerouslySetInnerHTML={{ __html: item.premiered }} />}\n                  />\n                  {<div dangerouslySetInnerHTML={{ __html: item.summary.slice(0, 90) + \"...\" }} />}\n                </List.Item>\n              )}\n            />\n          </div>\n          <div className=\"right-home\">\n            <div className=\"recommend\">\n              <div className=\"recommend-header item-header\">\n                <div className=\"recommend-title title\">文章推荐</div>\n                <div className=\"recommend-more more\" onClick={() => {}}>\n                  查看更多 >\n                </div>\n              </div>\n              <div className=\"recommend-content\">\n                <List\n                  itemLayout=\"horizontal\"\n                  dataSource={this.props.shows.slice(0, 4)}\n                  renderItem={(item: IK) => (\n                    <List.Item>\n                      <List.Item.Meta\n                        avatar={\n                          <Avatar\n                            shape=\"square\"\n                            size={48}\n                            src=\"https://images.xiaozhuanlan.com/photo/2019/57505071975c32af6b89a68abd2d3be6.png\"\n                          />\n                        }\n                        title={<a href=\"https://ant.design\">Java面试进阶指南</a>}\n                        description=\"一份 Java 程序员必备的面试进阶指南\"\n                      />\n                    </List.Item>\n                  )}\n                />\n              </div>\n            </div>\n\n            <div className=\"article\">\n              <div className=\"article-header item-header\">\n                <div className=\"article-title title\">关注作者</div>\n                <div className=\"article-more more\" onClick={() => {}}>\n                  查看更多 >\n                </div>\n              </div>\n              <div className=\"article-content\">\n                <List\n                  itemLayout=\"horizontal\"\n                  dataSource={this.props.shows.slice(0, 4)}\n                  renderItem={(item: IK) => (\n                    <List.Item\n                      actions={[\n                        <Button type=\"danger\" ghost size=\"small\" shape=\"round\">\n                          {\"关注\"}\n                        </Button>\n                      ]}\n                    >\n                      <List.Item.Meta\n                        avatar={\n                          <Avatar\n                            size={48}\n                            src=\"https://images.xiaozhuanlan.com/photo/2018/a2c66d38537fd015e7cdb3623936caf2.\"\n                          />\n                        }\n                        title={<a href=\"https://ant.design\">大作家</a>}\n                        description=\"33 人关注\"\n                      />\n                    </List.Item>\n                  )}\n                />\n              </div>\n\n              <div className=\"tag\">\n                <div className=\"item-header\">\n                  <div className=\"title\">热门标签</div>\n                  <div className=\"more\" onClick={() => {}}>\n                    查看更多 >\n                  </div>\n                </div>\n                <div className=\"tag-content\">\n                  {Array(100)\n                    .fill(0)\n                    .map((item, index) => {\n                      return (\n                        <Tag key={uuid()} style={{ marginBottom: \"10px\" }}>\n                          Tag 1\n                        </Tag>\n                      );\n                    })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}